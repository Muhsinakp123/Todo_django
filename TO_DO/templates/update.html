{% extends "master.html" %}
{% load static %}

{% block title %}
Update To Do List
{% endblock %}

{% block content %}
<div class="form-container">
    <h2 class="form-title">Update Task</h2>
    <form method="post" action="{% url 'update_task' my_task.id %}" class="task-form">
        {% csrf_token %}
        
        <label>Task</label>
        <input type="text" name="task" class="input-field" value="{{ my_task.task }}" required>
        
        <label>Due Date</label>
        <input type="date" name="due_date" class="input-field" value="{{ my_task.due_date|date:'Y-m-d' }}" min="{{ today|date:'Y-m-d' }}">
        
        <label>
            <input type="checkbox" name="status" {% if my_task.status %}checked{% endif %}> Completed
        </label>
        
        <label>Category</label>
        <select name="category" class="input-field">
            <option value="Work" {% if my_task.category == "Work" %}selected{% endif %}>Work</option>
            <option value="Study" {% if my_task.category == "Study" %}selected{% endif %}>Study</option>
            <option value="Personal" {% if my_task.category == "Personal" %}selected{% endif %}>Personal</option>
            <option value="Other" {% if my_task.category == "Other" %}selected{% endif %}>Other</option>
        </select>
        
        <label>Priority</label>
        <select name="priority" class="input-field">
            <option value="H" {% if my_task.priority == "H" %}selected{% endif %}>High</option>
            <option value="M" {% if my_task.priority == "M" %}selected{% endif %}>Medium</option>
            <option value="L" {% if my_task.priority == "L" %}selected{% endif %}>Low</option>
        </select>
        
        <div class="form-buttons">
            <button type="submit" class="btn btn-primary">Update Task</button>
            <a href="{% url 'index' %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
